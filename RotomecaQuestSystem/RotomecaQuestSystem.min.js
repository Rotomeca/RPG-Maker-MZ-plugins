//=============================================================================
// RotomecaQuestSystem.js
//=============================================================================

/*:
 * @target MZ
 * @plugindesc (V0.4.0) Ajoute un système de quête
 * @author Rotomeca
 *
 * @param Quests
 * @desc Quests database
 * @default
 * @type struct<Quest>[]
 * 
 * @param Starting quests
 * @desc Les quêtes déjà dans le menu de quête au lancement de la partie.
 * @type number[]
 * 
 * @param Default Quest Enabled
 * @desc Le menu de quête est activé par défaut.
 * @default true
 * @type boolean
 * 
 * @param Auto update
 * @desc Les quêtes sont mises à jours à chaque "évènements" 
 * @default true
 * @type boolean
 * 
 * @param Update When Menu
 * @desc Les quêtes sont mises à jours à l'entrée du menu des quêtes
 * @default true
 * @type boolean
 * 
 * @param --------LANG-------
 * @desc 
 * @default
 * @type string
 * 
 * @param LANG:QUEST
 * @desc Texte affiché dans le menu.
 * @default Quêtes
 * @type string
 * 
 * @param LANG:LOCATION
 * @desc Texte affiché avant la localisation dans le menu de quête
 * @default Aller à
 * @type string
 * 
 * @param LANG:PERSON
 * @desc Texte affiché avant la personne à aller parler dans le menu de quête
 * @default Parler à
 * @type string
 * 
 * @param LANG:KILL_MONSTER
 * @desc Texte affiché pour définir le nombre de monstres tués dans le menu de quête
 * @default tué(s) sur
 * @type string
 * 
 * @param LANG:STEP
 * @desc Texte affiché avant la liste des étapes dans le menu de quête
 * @default Etape
 * @type string
 * 
 * @param STEP:INCLUDE:S
 * @desc Prendre en compte le pluriel pour LANG:STEP
 * @default true
 * @type boolean
 * 
 * @param LANG:REWARD
 * @desc Texte affiché avant la liste des récompenses dans le menu de quête
 * @default Récompense
 * @type string
 * 
 * @param REWARD:INCLUDE:S
 * @desc Prendre en compte le pluriel pour LANG:REWARD
 * @default true
 * @type boolean
 * 
 * @command Update
 * @desc Met à jours l'avancement des quêtes
 * @text Update
 *  
 * @arg async
 * @text Asynchrone
 * @desc N'attend pas que la mise à jours suit fini avant de passer à la ligne suivante
 * @type boolean
 * @default false
 * 
 * @command Add
 * @desc Ajoute une quête au livre de quête
 * @text Add
 *  
 * @arg id
 * @text Id
 * @desc Id de la quête à ajouter.
 * @type number
 * @default 1
 * 
 * @command Validate
 * @desc Valide une quête du livre de quête
 * @text Validate
 *  
 * @arg id
 * @text Id
 * @desc Id de la quête à valider.
 * @type number
 * @default 1
 * 
 * @command Fail
 * @desc Echoue une quête du livre de quête
 * @text Fail
 *  
 * @arg id
 * @text Id
 * @desc Id de la quête à échouer.
 * @type number
 * @default 1
 * 
 * @command Exist
 * @desc Vérifie si un id de quête existe dans la base de données
 * @text Exist
 *  
 * @arg id
 * @text Id
 * @desc Id de la quête.
 * @type number
 * @default 1
 * 
 * @command Have
 * @desc Vérifie si l'équipe possède une quête
 * @text Have
 *  
 * @arg id
 * @text Id
 * @desc Id de la quête.
 * @type number
 * @default 1
 * 
 * @help  
 * =============================================================================
 * ### Rotomeca Quest System ###
 * Author   -   Rotomeca
 * Version  -   0.4.0
 * Updated  -   25/03/2022
 * =============================================================================
 * 
 */

/*~struct~QuestReward:
 * @param type
 * @type select 
 * @default Variable
 * @option Game Variable
 * @value Variable
 * @option Game Switch
 * @value Switch
 * @option Gold
 * @value Gold
 * @option Item
 * @value Item
 * @option Armor
 * @value Armor
 * @option Weapon
 * @value Weapon
 * @option Quest
 * @value Quest
 * @option Custom
 * @value Custom
 *
 * @param amount
 * @type number
 * 
 * @param id
 * @type number
 * 
 * 
 */

/*~struct~QuestStep:
 * @param type
 * @type select 
 * @default Variable
 * @option Game Variable
 * @value Variable
 * @option Game Switch
 * @value Switch
 * @option Location
 * @value Location
 * @option Talking to
 * @value Talking
 * @option Kill x ennemy(ies)
 * @value Ennemy
 * @option Get item(s)
 * @value Items
 * @option Get weapon(s)
 * @value Weapons
 * @option Get armor(s)
 * @value Armors
 * @option Custom
 * @value Custom
 * 
 * @param Game Data Id
 * @desc Id for type for update
 * @type number
 * 
 * @param Step desc
 * @desc Location/Person name/Desc 
 * @type text
 * 
 * @param Amount
 * @desc Amout of thiings what you need to do 
 * @type number
 * 
 * @param Is Hidden
 * @desc Is hidden field ? 
 * @default true
 * @type boolean
 * 
 * @param Next Step(s)
 * @desc Next steps after validate this step
 * @type number[]
 * 
 */

/*~struct~Quest:
 * 
 * @param Quest Name
 * @desc Name of the quest
 * @type text
 * 
 * @param Quest desc
 * @desc Desc of the quest
 * @type multiline_string
 * 
 * @param Main quest
 * @desc Is main quest
 * @default true
 * @type boolean
 * 
 * @param Giver
 * @desc Persona that give you the quest
 * @type text
 * 
 * @param Location
 * @desc Where we get the quest
 * @type text
 * 
 * @param Steps
 * @desc The steps of this quest
 * @type struct<QuestStep>[]
 * 
 * @param Rewards
 * @desc Rewars of the quest
 * @type struct<QuestReward>[]
 * 
 */
const _0x2c0e27=_0x39cb;(function(_0x45e096,_0x4984ed){const _0x223461=_0x39cb,_0x231201=_0x45e096();while(!![]){try{const _0x5b38f3=parseInt(_0x223461(0x1a4))/0x1+parseInt(_0x223461(0x1b2))/0x2+parseInt(_0x223461(0x148))/0x3*(-parseInt(_0x223461(0x11a))/0x4)+-parseInt(_0x223461(0x168))/0x5+parseInt(_0x223461(0x1c1))/0x6+-parseInt(_0x223461(0x140))/0x7*(-parseInt(_0x223461(0x1c3))/0x8)+-parseInt(_0x223461(0x143))/0x9*(parseInt(_0x223461(0x1dc))/0xa);if(_0x5b38f3===_0x4984ed)break;else _0x231201['push'](_0x231201['shift']());}catch(_0xc96119){_0x231201['push'](_0x231201['shift']());}}}(_0x69c3,0x79429));const plugin_name=_0x2c0e27(0x21e);var Imported=Imported||{};Imported[_0x2c0e27(0x21e)]=!![];var Rotomeca=Rotomeca||{};Rotomeca[_0x2c0e27(0x151)]=Rotomeca[_0x2c0e27(0x151)]||new Game_Interpreter(),Rotomeca[_0x2c0e27(0x21e)]={},Rotomeca[_0x2c0e27(0x21e)]['parameters']=PluginManager[_0x2c0e27(0x1db)](plugin_name),Rotomeca[_0x2c0e27(0x21e)][_0x2c0e27(0x1db)]['quest_text']=String(Rotomeca[_0x2c0e27(0x21e)][_0x2c0e27(0x1db)]['LANG:QUEST']||'Quêtes'),Rotomeca['RotomecaQuestSystem']['parameters'][_0x2c0e27(0x177)]=Boolean(Rotomeca[_0x2c0e27(0x21e)][_0x2c0e27(0x1db)]['Default\x20Quest\x20Enabled']||!![]),Rotomeca[_0x2c0e27(0x21e)][_0x2c0e27(0x1db)][_0x2c0e27(0x11c)]=Rotomeca[_0x2c0e27(0x21e)][_0x2c0e27(0x1db)]['Quests']||'[]',Rotomeca['RotomecaQuestSystem'][_0x2c0e27(0x1db)]['auto_update']=Boolean(Rotomeca[_0x2c0e27(0x21e)]['parameters'][_0x2c0e27(0x185)]||!![]),Rotomeca[_0x2c0e27(0x21e)][_0x2c0e27(0x1db)][_0x2c0e27(0x1fb)]=Boolean(Rotomeca[_0x2c0e27(0x21e)][_0x2c0e27(0x1db)][_0x2c0e27(0x1a8)]||!![]),Rotomeca['RotomecaQuestSystem'][_0x2c0e27(0x1fd)]=Rotomeca['RotomecaQuestSystem'][_0x2c0e27(0x1db)][_0x2c0e27(0x177)];var $gameQuests=null;Rotomeca[_0x2c0e27(0x21e)][_0x2c0e27(0x16c)]=function(){const _0x57beb2=_0x2c0e27;$gameQuests=new QuestDatabase(Rotomeca[_0x57beb2(0x21e)]['parameters'][_0x57beb2(0x11c)]);},Rotomeca[_0x2c0e27(0x21e)][_0x2c0e27(0x1ef)]=function gettext(_0x409f3e){const _0x4013a8=_0x2c0e27;return Rotomeca[_0x4013a8(0x1ef)](_0x409f3e,_0x4013a8(0x21e));},Rotomeca[_0x2c0e27(0x21e)]['lang_param']=function lang_param(_0x13e5bf,_0x5ccfa9){const _0x1a9e5c=_0x2c0e27;return Rotomeca[_0x1a9e5c(0x18f)](_0x13e5bf,_0x5ccfa9,![],_0x1a9e5c(0x21e));},PluginManager[_0x2c0e27(0x18d)](plugin_name,_0x2c0e27(0xf7),_0x408688=>{const _0x281625=_0x2c0e27;if(_0x408688[_0x281625(0x1af)])$gameParty['_quests'][_0x281625(0x204)]();else $gameParty['_quests']['updateQuests']();}),PluginManager[_0x2c0e27(0x18d)](plugin_name,_0x2c0e27(0x117),_0x25cfb1=>{const _0x2521c7=_0x2c0e27;return QuestDatabase[_0x2521c7(0x107)](_0x25cfb1['id']);}),PluginManager[_0x2c0e27(0x18d)](plugin_name,_0x2c0e27(0x1e5),_0x2cf0e7=>{const _0x3107d9=_0x2c0e27;return $gameQuests[_0x3107d9(0x1c6)](_0x2cf0e7['id']);}),PluginManager['registerCommand'](plugin_name,_0x2c0e27(0x15b),_0x1b4d8d=>{return $gameQuests['failQuest'](_0x1b4d8d['id']);}),PluginManager[_0x2c0e27(0x18d)](plugin_name,_0x2c0e27(0x1d4),_0x488468=>{const _0x17c202=_0x2c0e27;return $gameQuests[_0x17c202(0x108)][_0x488468['id']]==!![];}),PluginManager[_0x2c0e27(0x18d)](plugin_name,_0x2c0e27(0x208),_0x5b3e3b=>{const _0x40919f=_0x2c0e27;return $gameParty[_0x40919f(0x14a)]['have'](_0x5b3e3b['id']);}),PluginManager[_0x2c0e27(0x18d)](plugin_name,_0x2c0e27(0x15e),_0x4f04e1=>{}),PluginManager[_0x2c0e27(0x18d)](plugin_name,_0x2c0e27(0x113),_0x51994f=>{});function _0x69c3(){const _0x6763dc=['_current_command','flatMap','commandFailed','_draw_giver','commandNewGame','registerCommand','enemyId','lang_param','iconIndex','width','drawItem','Ennemy','setOnUpdate','commandMain','_current_window_quest','INCLUDE:S','gainItem','setLocation','_draw_rewards','load','commandQuestMainRect','Quest\x20desc','defaults_categories','Weapon','text','item','addRange','Rewards','664699MDoTKj','reward_id','_list','status','Update\x20When\x20Menu','init','commandQuestStepsRect','command122','_save','_switchReward','Quest\x20Name','async','Is\x20Hidden','update_category','1681194TzXRDh','_item_reward','quest_text','isDone','side_quests','_parent','main','_equips','KILL_MONSTER','get_armor','_update_side_async','performCollapse','_goldReward','Steps','setRewards','3389682QTxdvF','Principales','1883672mZHrQl','failQuest','REWARD','validateQuest','Scene_Menu.createCommandWindow.after','addOriginalCommands','update_async','setMax','\x20:\x20','isValid','makeCommandList','update_category_async','allSettled','commandQuestRect','hiddenStep','onUpdate','Starting\x20quests','Exist','_update_category_side','changeTextColor','Step\x20desc','start','get_weapon','_refresh','parameters','13226200jMWQea','_windows','_draw_reward','addReward','auto_update','updateQuests','location','monster_count','nextSteps','Validate','drawTextEx','constructor','validate','isEnemy','paint','switch','_window_','drawIcon','commandWindowRect','gettext','setFailedChecker','bind','cancel','types','rotomeca.quest.step.validate','command123','reward_type','gold','commandSide','failedStep','STEP','update_in_menu','executeSave','isQuestEnabled','Armors','call','_variableReward','sort','parent','Step\x20no\x20exist','updateQuestsAsync','save','addAction','validateStep','Have','setValidateChecker','isFailed','show_quest','Next\x20Step(s)','Monster.Killed','_update_category_main','executeLoad','_armor_reward','getStepIndexById','unhidden','_draw_location','createCommandWindow','isInProgress','removeValue','category','monster_count_created','_draw','prototype','kill_enemy','quest.done','main_quests','RotomecaQuestSystem','success','get','_update_main','get_items','map','_index_changed','command126','filter','_items','update','Update','Impossible\x20d\x27ajouter\x20la\x20quête\x20!','Custom','custom','textWidth','lineHeight','Variable','Location','_rewards_actions','hidden','parse','Secondaires','_custom_reward','current_quest','refresh','_update_main_async','tryAddQuestToParty','quests','log','onCommandCancel','activate','failed','findIndex','weapons','addCommand','Vous\x20devez\x20définir\x20un\x20type\x20de\x20récompense\x20!','rotomeca.quest.step.failed','_load','CreateQuests','overallHeight','failQuestStep','setup','Add','_draw_steps','max','417460jRPPBv','setCreator','quests_database','addSteps','_Step_','LOCATION','length','initialize','hasOwnProperty','addEventListener','_command','setParent','setValueChecker','add','deselect','_draw_desc','amount','_parentObject','check_status','command127','base_item','addQuestToParty','Game\x20Data\x20Id','triggerEvent','addStep','_finished','succed_quests','needsCommand','_scrollBaseY','armors','variables','allWeapons','setHandler','symbol','Amount','Talking','setText','rewards','7AuyonU','initAllItems','updateProgress','9KOKhhb','resetTextColor','onBattleEnd','Armor','Quête\x20:\x20','6oBrAlX','addWindow','_quests','command125','name','desc','side','reward_amount','armor','interpreter','Switch','variable','creator','Item','scrollTo','Weapons','Quest','quest','_questReward','Fail','progress','Gold','CreateQuest','talk_to','create','true','done','_update_side','onLoadSuccess','allArmors','addValue','height','1388355qshLDm','_draw_name','have','_index','createGameQuest','push','textSizeEx','value','Giver','tmp','allMembers','steps','onSaveSuccess','quest.failed','drawText','default_quest_enabled','_weapon_reward','_dataClass','object','_itemId','createContents','green','commandQuestSelectRect','close','state','Items','commandQuestRewardsRect','getValue','weapon','Auto\x20update','failed_quests','commandQuestDescRect'];_0x69c3=function(){return _0x6763dc;};return _0x69c3();}class RotomecaQuestSteps{constructor(_0x30ec43,_0x1e8517=![]){const _0x152b20=_0x2c0e27;this[_0x152b20(0x1a9)]()[_0x152b20(0x116)](_0x30ec43,_0x1e8517);}[_0x2c0e27(0x1a9)](){const _0x36cc58=_0x2c0e27;return this['id']=0x0,this[_0x36cc58(0x1a0)]='',this[_0x36cc58(0x1e4)]=[],this[_0x36cc58(0x1d1)]=![],this[_0x36cc58(0x16f)]=0x0,this['max']=0x0,this['getValue']=null,this['onUpdate']=null,this[_0x36cc58(0x207)]=null,this['failedStep']=null,this['isValid']=![],this[_0x36cc58(0x20a)]=![],this['parent']=null,this[_0x36cc58(0x133)]=![],this;}[_0x2c0e27(0x116)](_0x370b17,_0x1542be){const _0x239561=_0x2c0e27;return this['id']=_0x370b17,this[_0x239561(0x1d1)]=_0x1542be==_0x239561(0x161),this;}['setParent'](_0x4dbc4a){return this['parent']=_0x4dbc4a,this;}[_0x2c0e27(0xf6)](){const _0x59110f=_0x2c0e27;if(!this[_0x59110f(0x133)]&&!this[_0x59110f(0x1d1)]){if(this[_0x59110f(0x183)]!==null)this[_0x59110f(0x16f)]=this[_0x59110f(0x183)](this);if(!this[_0x59110f(0x20a)]&&!this[_0x59110f(0x1cc)]&&this['validateStep']!==null)this[_0x59110f(0x1cc)]=this[_0x59110f(0x207)](this);if(!this[_0x59110f(0x20a)]&&!this[_0x59110f(0x1cc)]&&this[_0x59110f(0x1f9)]!==null)this[_0x59110f(0x20a)]=this[_0x59110f(0x1f9)](this);if(this[_0x59110f(0x1cc)]){Rotomeca[_0x59110f(0x131)](_0x59110f(0x1f4),this);if(this['nextSteps']['length']>0x0&&this[_0x59110f(0x202)])for(let _0x408607=0x0;_0x408607<this[_0x59110f(0x1e4)][_0x59110f(0x120)];++_0x408607){const _0x17db89=this[_0x59110f(0x1e4)][_0x408607],_0x4f1f93=this[_0x59110f(0x202)][_0x59110f(0x211)](_0x17db89);this[_0x59110f(0x202)]['steps'][_0x4f1f93][_0x59110f(0x1d1)]=![];}this[_0x59110f(0x133)]=!![];}this[_0x59110f(0x20a)]&&(Rotomeca[_0x59110f(0x131)](_0x59110f(0x111),this),this[_0x59110f(0x133)]=!![]);if(this[_0x59110f(0x1d2)]!==null)this[_0x59110f(0x1d2)](this);}return this;}[_0x2c0e27(0x166)](_0x3153cb){return this['updateValue'](this['value']+_0x3153cb);}[_0x2c0e27(0x216)](_0x3a41ea){const _0x7ee33f=_0x2c0e27;return this['updateValue'](this[_0x7ee33f(0x16f)]-_0x3a41ea);}['updateValue'](_0x2b2c4a){const _0x5690aa=_0x2c0e27;this[_0x5690aa(0x16f)]=_0x2b2c4a;if(this[_0x5690aa(0x16f)]>this[_0x5690aa(0x119)])this['value']=this['max'];else{if(this[_0x5690aa(0x16f)]<0x0)this[_0x5690aa(0x16f)]=0x0;}return this;}[_0x2c0e27(0x11d)](_0x4bfa39){const _0x562154=_0x2c0e27;return this[_0x562154(0x1e4)]=[...this[_0x562154(0x1e4)],..._0x4bfa39],this;}[_0x2c0e27(0x1e8)](){const _0x316856=_0x2c0e27;return this[_0x316856(0x1cc)]=!![],this[_0x316856(0x20a)]=![],this[_0x316856(0xf6)]();}[_0x2c0e27(0x10c)](){const _0x140add=_0x2c0e27;return this[_0x140add(0x1cc)]=![],this[_0x140add(0x20a)]=!![],this[_0x140add(0xf6)]();}[_0x2c0e27(0x212)](){const _0xc40ffd=_0x2c0e27;return this[_0xc40ffd(0x1d1)]=![],this;}[_0x2c0e27(0x126)](_0x42ae98){return this['getValue']=_0x42ae98,this;}[_0x2c0e27(0x209)](_0x21f220){const _0x379f68=_0x2c0e27;return this[_0x379f68(0x207)]=_0x21f220,this;}[_0x2c0e27(0x1f0)](_0x5a9347){const _0x166160=_0x2c0e27;return this[_0x166160(0x1f9)]=_0x5a9347,this;}['setOnUpdate'](_0x1b2c5c){const _0xe2430a=_0x2c0e27;return this[_0xe2430a(0x1d2)]=_0x1b2c5c,this;}[_0x2c0e27(0x1ca)](_0x412b92){const _0x332b79=_0x2c0e27;return this[_0x332b79(0x119)]=_0x412b92,this;}[_0x2c0e27(0x13e)](_0x216f01){const _0x5761cc=_0x2c0e27;return this[_0x5761cc(0x1a0)]=_0x216f01,this;}[_0x2c0e27(0x205)](){const _0x386d66=_0x2c0e27;return{'id':this['id'],'state':this[_0x386d66(0x1cc)]?0x1:this[_0x386d66(0x20a)]?0x2:0x0,'value':this[_0x386d66(0x16f)],'hidden':this['hiddenStep']};}[_0x2c0e27(0x19b)](_0x2789e6){const _0x3df924=_0x2c0e27;switch(_0x2789e6[_0x3df924(0x180)]){case 0x1:this[_0x3df924(0x1cc)]=!![];break;case 0x2:this['isFailed']=!![];break;default:break;}return this[_0x3df924(0x16f)]=_0x2789e6['value'],this[_0x3df924(0x1d1)]=_0x2789e6[_0x3df924(0x100)],this;}}RotomecaQuestSteps[_0x2c0e27(0x153)]=(_0x197bf3,_0x52ae93,_0x2b19ae,_0xe68c82=![],_0x58e6ef='')=>{const _0x40d527=_0x2c0e27;return new RotomecaQuestSteps(_0x197bf3,_0xe68c82)[_0x40d527(0x1ca)](_0x2b19ae)['setValueChecker'](_0xb8b473=>{const _0xea8b6c=_0x40d527;return $gameVariables[_0xea8b6c(0x16f)](_0x52ae93);})[_0x40d527(0x209)](_0xfb8b35=>{const _0x376bb6=_0x40d527;return _0xfb8b35[_0x376bb6(0x16f)]>=_0xfb8b35[_0x376bb6(0x119)];})[_0x40d527(0x194)](_0x4db7a3=>{const _0x2f0df3=_0x40d527;if(_0x58e6ef===''){const _0x17200d=$dataSystem[_0x2f0df3(0x138)][_0x52ae93]??'';_0x4db7a3[_0x2f0df3(0x1a0)]=''+(_0x17200d===''?'':_0x17200d+_0x2f0df3(0x1cb))+_0x4db7a3[_0x2f0df3(0x16f)]+'/'+_0x4db7a3[_0x2f0df3(0x119)];}else _0x4db7a3[_0x2f0df3(0x1a0)]=_0x58e6ef+_0x2f0df3(0x1cb)+_0x4db7a3[_0x2f0df3(0x16f)]+'/'+_0x4db7a3[_0x2f0df3(0x119)];});},RotomecaQuestSteps[_0x2c0e27(0x1eb)]=(_0x321d4b,_0x1aee5a,_0x3164c3=![],_0x28b97d='')=>{const _0x59c459=_0x2c0e27;return new RotomecaQuestSteps(_0x321d4b,_0x3164c3)[_0x59c459(0x1ca)](0x1)[_0x59c459(0x209)](_0x1a70f9=>{const _0x584d4a=_0x59c459;return $gameSwitches[_0x584d4a(0x16f)](_0x1aee5a)?!![]:![];})['setOnUpdate'](_0x2bdc5b=>{const _0x43a6b3=_0x59c459;if(_0x28b97d==='')_0x2bdc5b[_0x43a6b3(0x1a0)]=$dataSystem['switches'][_0x1aee5a]??'';else _0x2bdc5b['text']=''+_0x28b97d;});},RotomecaQuestSteps['go_to']=(_0x495e47,_0x591201,_0x4a8270,_0x52419c=![])=>{const _0xfa27de=_0x2c0e27;return RotomecaQuestSteps['switch'](_0x495e47,_0x591201,_0x52419c,Rotomeca[_0xfa27de(0x21e)][_0xfa27de(0x1ef)](_0xfa27de(0x11f))+'\x20:\x20'+_0x4a8270);},RotomecaQuestSteps[_0x2c0e27(0x15f)]=(_0xd696c5,_0xebf488,_0x276bf7,_0x186aa3=![])=>{const _0x30f1bd=_0x2c0e27;return RotomecaQuestSteps[_0x30f1bd(0x1eb)](_0xd696c5,_0xebf488,_0x186aa3,Rotomeca[_0x30f1bd(0x21e)]['gettext']('PERSON')+_0x30f1bd(0x1cb)+_0x276bf7);},RotomecaQuestSteps[_0x2c0e27(0x12e)]=(_0x3bb9de,_0x7786a4,_0x8ee48e,_0x1cd47d,_0x378c1e=![],_0x394f18='')=>{const _0x367460=_0x2c0e27;return new RotomecaQuestSteps(_0x3bb9de,_0x378c1e)['setMax'](_0x1cd47d)[_0x367460(0x126)](_0x293b21=>{return _0x7786a4(_0x8ee48e);})['setValidateChecker'](_0x5af45d=>{const _0x2beb4e=_0x367460;return _0x5af45d[_0x2beb4e(0x16f)]>=_0x5af45d[_0x2beb4e(0x119)];})[_0x367460(0x194)](_0x3445a0=>{const _0x16f02c=_0x367460;if(_0x394f18==='')_0x3445a0['text']=_0x3445a0['value']+'/'+_0x3445a0[_0x16f02c(0x119)];else _0x3445a0[_0x16f02c(0x1a0)]=_0x394f18+_0x16f02c(0x1cb)+_0x3445a0['value']+'/'+_0x3445a0['max'];});},RotomecaQuestSteps['kill_enemy']=(_0x59369a,_0x37549f,_0xa8a10b,_0x58edf8=![])=>{const _0x49a5cf=_0x2c0e27;return new RotomecaQuestSteps(_0x59369a,_0x58edf8)[_0x49a5cf(0x1ca)](_0xa8a10b)[_0x49a5cf(0x126)](_0x260d33=>{const _0x314638=_0x49a5cf;return _0x260d33['monster_count_created']!==!![]&&(_0x260d33[_0x314638(0x1e3)]=0x0,Rotomeca[_0x314638(0x123)](_0x314638(0x20d),_0x2f2ab1=>{const _0x7c37c9=_0x314638;if(_0x2f2ab1[_0x7c37c9(0x18e)]()===_0x37549f)++_0x260d33['monster_count'];}),_0x260d33[_0x314638(0x218)]=!![]),_0x260d33[_0x314638(0x1e3)];})[_0x49a5cf(0x209)](_0x1d6eae=>{const _0x51b26f=_0x49a5cf;return _0x1d6eae[_0x51b26f(0x16f)]>=_0x1d6eae[_0x51b26f(0x119)];})[_0x49a5cf(0x194)](_0x1f673d=>{const _0x488772=_0x49a5cf;_0x1f673d[_0x488772(0x1a0)]=_0x1f673d[_0x488772(0x16f)]+'\x20'+$dataEnemies[_0x37549f]['name']+'\x20'+Rotomeca[_0x488772(0x21e)][_0x488772(0x1ef)](_0x488772(0x1ba))+'\x20'+_0x1f673d['max'];});},RotomecaQuestSteps[_0x2c0e27(0x222)]=(_0x126e75,_0x39d3c4,_0x4e829f,_0x321583=![])=>{const _0x2bae7f=_0x2c0e27;return RotomecaQuestSteps[_0x2bae7f(0x12e)](_0x126e75,_0x2c6eb7=>$gameParty[_0x2bae7f(0xf5)][_0x2c6eb7]??0x0,_0x39d3c4,_0x4e829f,_0x321583,$dataItems[_0x39d3c4]['name']);},RotomecaQuestSteps[_0x2c0e27(0x1bb)]=(_0x3af3ec,_0x4dfb47,_0x1d69f5,_0x22ed0f=![])=>{const _0x525724=_0x2c0e27;return RotomecaQuestSteps[_0x525724(0x12e)](_0x3af3ec,_0x483ba0=>$gameParty[_0x525724(0x165)]()[_0x525724(0xf4)](_0x21cf83=>_0x21cf83['id']===_0x483ba0)[_0x525724(0x120)],_0x4dfb47,_0x1d69f5,_0x22ed0f,$dataArmors[_0x4dfb47][_0x525724(0x14c)]);},RotomecaQuestSteps[_0x2c0e27(0x1d9)]=(_0x2be754,_0x575a50,_0x5dd456,_0x253f69=![])=>{const _0x7d247d=_0x2c0e27;return RotomecaQuestSteps[_0x7d247d(0x12e)](_0x2be754,_0x5d93d3=>$gameParty[_0x7d247d(0x139)]()[_0x7d247d(0xf4)](_0xdb066b=>_0xdb066b['id']===_0x5d93d3)[_0x7d247d(0x120)],_0x575a50,_0x5dd456,_0x253f69,$dataWeapons[_0x575a50][_0x7d247d(0x14c)]);};class RotomecaQuestReward{constructor(_0x4f4b13,_0x25664b,_0x4be7ad){const _0x3fd304=_0x2c0e27;this[_0x3fd304(0x1a9)]()[_0x3fd304(0x116)](_0x4f4b13,_0x25664b,_0x4be7ad);}[_0x2c0e27(0x1a9)](){const _0x3885c9=_0x2c0e27;return this[_0x3885c9(0x1f6)]=null,this['reward_amount']=0x0,this['reward_id']=0x0,this[_0x3885c9(0xff)]=[],this;}[_0x2c0e27(0x116)](_0x1a1bb0,_0x1c8132,_0xf5fee6){const _0x2771e9=_0x2c0e27;this[_0x2771e9(0x1f6)]=_0x1a1bb0;if((this['reward_type']??null)===null)throw _0x2771e9(0x110);return this['reward_id']=_0x1c8132,this[_0x2771e9(0x14f)]=parseInt(_0xf5fee6??0x0),this;}[_0x2c0e27(0x206)](_0x4911e1){const _0x16c3a9=_0x2c0e27;return this[_0x16c3a9(0xff)][_0x16c3a9(0x16d)](_0x4911e1),this;}['getReward'](){const _0x48bed8=_0x2c0e27;switch(this['reward_type']){case RotomecaQuestReward[_0x48bed8(0x1f3)][_0x48bed8(0x153)]:return this[_0x48bed8(0x200)]();case RotomecaQuestReward['types'][_0x48bed8(0x1eb)]:return this[_0x48bed8(0x1ad)]();case RotomecaQuestReward['types']['gold']:return this[_0x48bed8(0x1be)]();case RotomecaQuestReward['types'][_0x48bed8(0x1a1)]:return this[_0x48bed8(0x1b3)]();case RotomecaQuestReward[_0x48bed8(0x1f3)][_0x48bed8(0x150)]:return this['_armor_reward']();case RotomecaQuestReward['types'][_0x48bed8(0x184)]:return this[_0x48bed8(0x178)]();case RotomecaQuestReward[_0x48bed8(0x1f3)][_0x48bed8(0x159)]:return this[_0x48bed8(0x15a)]();case RotomecaQuestReward['types'][_0x48bed8(0xfa)]:return this[_0x48bed8(0x103)]();default:throw'Type\x20de\x20récompense\x20inconnue\x20!\x20Utilisez\x20RotomecaQuestReward.types.custom\x20plutôt.';}}[_0x2c0e27(0x15a)](){const _0x389c4f=_0x2c0e27;return QuestDatabase[_0x389c4f(0x107)](this['reward_id']),this;}[_0x2c0e27(0x200)](){const _0x2d7d39=_0x2c0e27;return Rotomeca[_0x2d7d39(0x151)][_0x2d7d39(0x1ab)]([this[_0x2d7d39(0x1a5)],this[_0x2d7d39(0x1a5)],0x0,0x0,this[_0x2d7d39(0x14f)]]),this;}[_0x2c0e27(0x1ad)](){const _0x4debeb=_0x2c0e27;return Rotomeca[_0x4debeb(0x151)]['command121']([this['reward_id'],this[_0x4debeb(0x1a5)],0x0]),this;}[_0x2c0e27(0x1be)](){const _0x22d174=_0x2c0e27;return Rotomeca['interpreter'][_0x22d174(0x14b)]([0x0,0x0,this[_0x22d174(0x14f)]]),this;}[_0x2c0e27(0x1b3)](){const _0x182e66=_0x2c0e27;return Rotomeca['interpreter'][_0x182e66(0xf3)]([this[_0x182e66(0x1a5)],0x0,0x0,this['reward_amount']]),this;}[_0x2c0e27(0x210)](){const _0x3975ab=_0x2c0e27;return Rotomeca[_0x3975ab(0x151)]['command128']([this['reward_id'],0x0,0x0,this['reward_amount']]),this;}['_weapon_reward'](){const _0x40e397=_0x2c0e27;return Rotomeca[_0x40e397(0x151)][_0x40e397(0x12d)]([this[_0x40e397(0x1a5)],0x0,0x0,this[_0x40e397(0x14f)]]),this;}[_0x2c0e27(0x103)](){const _0x38b06a=_0x2c0e27;for(let _0x5d6c00=0x0;_0x5d6c00<this[_0x38b06a(0xff)]['length'];++_0x5d6c00){const _0x2fd45a=this[_0x38b06a(0xff)][_0x5d6c00];_0x2fd45a(this);}return this;}}RotomecaQuestReward[_0x2c0e27(0x1f3)]={'variable':Symbol(),'switch':Symbol(),'gold':Symbol(),'item':Symbol(),'armor':Symbol(),'weapon':Symbol(),'quest':Symbol(),'custom':Symbol()};class RotomecaQuest{constructor(_0x15da41,_0x2f39e4,_0x4a9708,_0x29ac14=RotomecaQuest[_0x2c0e27(0x19e)]['main']){const _0x170e8a=_0x2c0e27;this[_0x170e8a(0x1a9)]()[_0x170e8a(0x116)](_0x15da41,_0x2f39e4,_0x4a9708,_0x29ac14);}[_0x2c0e27(0x1a9)](){const _0x4912ee=_0x2c0e27;return this['id']=0x0,this[_0x4912ee(0x14c)]='',this['desc']='',this[_0x4912ee(0x154)]='',this[_0x4912ee(0x1e2)]='',this[_0x4912ee(0x1a7)]=RotomecaQuest[_0x4912ee(0x1a7)][_0x4912ee(0x15c)],this[_0x4912ee(0x173)]=[],this['rewards']=[],this[_0x4912ee(0x217)]=RotomecaQuest[_0x4912ee(0x19e)][_0x4912ee(0x1b8)],this;}[_0x2c0e27(0x116)](_0x587aef,_0x2023cf,_0x15024d,_0x2cfc1a){const _0x2e6573=_0x2c0e27;return this['id']=_0x587aef,this[_0x2e6573(0x14c)]=_0x2023cf,this[_0x2e6573(0x14d)]=_0x15024d,this[_0x2e6573(0x217)]=_0x2cfc1a,this;}[_0x2c0e27(0x211)](_0x36a437){const _0x5de609=_0x2c0e27;return this[_0x5de609(0x173)][_0x5de609(0x10d)](_0x4b06a0=>_0x4b06a0['id']===_0x36a437);}[_0x2c0e27(0x142)](_0x436a0f){const _0x46f65e=_0x2c0e27;return this[_0x46f65e(0x1a7)]=_0x436a0f,this;}[_0x2c0e27(0x199)](_0x4e7575){const _0x453dab=_0x2c0e27;return this[_0x453dab(0x1e2)]=_0x4e7575,this;}['setCreator'](_0x54eb3e){const _0x427e70=_0x2c0e27;return this[_0x427e70(0x154)]=_0x54eb3e,this;}[_0x2c0e27(0x132)](_0x5ed5b3){const _0x3c397b=_0x2c0e27;return this[_0x3c397b(0x173)]['push'](_0x5ed5b3),this;}[_0x2c0e27(0x1df)](_0x9f260f){const _0x421c8c=_0x2c0e27;return this[_0x421c8c(0x13f)][_0x421c8c(0x16d)](_0x9f260f),this;}[_0x2c0e27(0x1c0)](){const _0x40c166=_0x2c0e27;for(let _0x280fcb=0x0;_0x280fcb<this['rewards']['length'];++_0x280fcb){const _0x5026d7=this[_0x40c166(0x13f)][_0x280fcb];_0x5026d7['getReward']();}return this[_0x40c166(0x13f)]=null,this['steps']=null,this;}[_0x2c0e27(0xf6)](_0x2f6587=![]){const _0x1687f2=_0x2c0e27;if(this[_0x1687f2(0x215)]()||_0x2f6587){if(!_0x2f6587)this['check_status'](!![]);if(this[_0x1687f2(0x1b5)]())this[_0x1687f2(0x1c0)](),Rotomeca[_0x1687f2(0x131)](_0x1687f2(0x21c),this);else this[_0x1687f2(0x20a)]()&&Rotomeca['triggerEvent'](_0x1687f2(0x175),this);}return this;}[_0x2c0e27(0x12c)](_0x2ae8a4=!![]){const _0x13134c=_0x2c0e27;if(this[_0x13134c(0x215)]()){if(_0x2ae8a4)var _0x3fdf6d=![];for(let _0x507ee7=0x0;_0x507ee7<this[_0x13134c(0x173)][_0x13134c(0x120)];++_0x507ee7){const _0x41ba63=this[_0x13134c(0x173)][_0x507ee7];if(_0x41ba63['hiddenStep'])continue;if(_0x2ae8a4)this['steps'][_0x507ee7][_0x13134c(0xf6)]();if(_0x41ba63['isFailed'])return this[_0x13134c(0x142)](RotomecaQuest[_0x13134c(0x1a7)][_0x13134c(0x10c)]);else{if(_0x41ba63[_0x13134c(0x1cc)]===![]){if(_0x2ae8a4){if(!_0x3fdf6d)_0x3fdf6d=!![];}else return this;}}}if(this[_0x13134c(0x173)][_0x13134c(0xf4)](_0xf61eeb=>_0xf61eeb['isValid']===!![])[_0x13134c(0x120)]===this[_0x13134c(0x173)][_0x13134c(0x120)])this[_0x13134c(0x142)](RotomecaQuest[_0x13134c(0x1a7)]['done']);}return this;}[_0x2c0e27(0x1b5)](){const _0x3525ad=_0x2c0e27;return this['status']===RotomecaQuest[_0x3525ad(0x1a7)][_0x3525ad(0x162)];}[_0x2c0e27(0x20a)](){const _0xf9020d=_0x2c0e27;return this[_0xf9020d(0x1a7)]===RotomecaQuest[_0xf9020d(0x1a7)][_0xf9020d(0x10c)];}[_0x2c0e27(0x215)](){const _0x5aaf54=_0x2c0e27;return this['status']===RotomecaQuest[_0x5aaf54(0x1a7)][_0x5aaf54(0x15c)];}[_0x2c0e27(0x205)](){const _0x5b6c06=_0x2c0e27;let _0x34078b={'id':this['id'],'status':this['isDone']()?0x1:this[_0x5b6c06(0x20a)]()?0x2:0x0,'rewarded':this['rewards']===null,'steps':[]};return this['steps']!==null&&this[_0x5b6c06(0x173)][_0x5b6c06(0x120)]>0x0&&(_0x34078b[_0x5b6c06(0x173)]=[...this[_0x5b6c06(0x173)][_0x5b6c06(0x223)](_0x3a0207=>_0x3a0207[_0x5b6c06(0x205)]())]),_0x34078b;}[_0x2c0e27(0x19b)](_0x4ca036){const _0xdf0002=_0x2c0e27;switch(_0x4ca036['status']){case 0x1:this[_0xdf0002(0x1a7)]=RotomecaQuest['status'][_0xdf0002(0x162)];break;case 0x2:this[_0xdf0002(0x1a7)]=RotomecaQuest[_0xdf0002(0x1a7)][_0xdf0002(0x10c)];break;case 0x0:default:this['status']=RotomecaQuest[_0xdf0002(0x1a7)][_0xdf0002(0x15c)];break;}if(_0x4ca036['rewarded'])this[_0xdf0002(0x173)]=null,this[_0xdf0002(0x13f)]=null;else{if(_0x4ca036[_0xdf0002(0x173)][_0xdf0002(0x120)]>0x0)for(const _0x32a581 in _0x4ca036[_0xdf0002(0x173)]){if(Object[_0xdf0002(0x122)][_0xdf0002(0x1ff)](_0x4ca036[_0xdf0002(0x173)],_0x32a581)){const _0xbc96e5=_0x4ca036[_0xdf0002(0x173)][_0x32a581],_0x1e103f=this[_0xdf0002(0x211)](_0xbc96e5['id']);this[_0xdf0002(0x173)][_0x1e103f][_0xdf0002(0x19b)](_0xbc96e5);}}}return this;}}RotomecaQuest['status']={'progress':Symbol(),'done':Symbol(),'failed':Symbol()},RotomecaQuest[_0x2c0e27(0x19e)]={'main':Symbol(),'side':Symbol()};class QuestDatabase{constructor(_0x2d888a){const _0x10ef0e=_0x2c0e27;this[_0x10ef0e(0x1a9)]()[_0x10ef0e(0x116)](_0x2d888a);}[_0x2c0e27(0x1a9)](){const _0x373cc1=_0x2c0e27;return this[_0x373cc1(0x108)]={},this;}[_0x2c0e27(0x116)](_0xd52d0e){const _0x4f73d8=_0x2c0e27;_0xd52d0e=JSON[_0x4f73d8(0x101)](_0xd52d0e);let _0x9c8162=null,_0x4dae19=null,_0x1e32f1=null;for(let _0x4906ce=0x0;_0x4906ce<_0xd52d0e[_0x4f73d8(0x120)];++_0x4906ce){const _0x39ad59=JSON[_0x4f73d8(0x101)](_0xd52d0e[_0x4906ce]);_0x4dae19=new RotomecaQuest(_0x4906ce+0x1,_0x39ad59[_0x4f73d8(0x1ae)],_0x39ad59[_0x4f73d8(0x19d)],_0x39ad59['Main\x20quest']==_0x4f73d8(0x161)?RotomecaQuest[_0x4f73d8(0x19e)][_0x4f73d8(0x1b8)]:RotomecaQuest[_0x4f73d8(0x19e)][_0x4f73d8(0x14e)])[_0x4f73d8(0x11b)](_0x39ad59[_0x4f73d8(0x170)])[_0x4f73d8(0x199)](_0x39ad59['Location']);if(_0x39ad59[_0x4f73d8(0x1a3)]!==''){const _0x1d9832=JSON[_0x4f73d8(0x101)](_0x39ad59[_0x4f73d8(0x1a3)]);for(let _0x49d658=0x0;_0x49d658<_0x1d9832['length'];++_0x49d658){const _0x26519b=JSON[_0x4f73d8(0x101)](_0x1d9832[_0x49d658]);switch(_0x26519b['type']){case _0x4f73d8(0x15d):_0x1e32f1=RotomecaQuestReward[_0x4f73d8(0x1f3)][_0x4f73d8(0x1f7)];break;case _0x4f73d8(0xfd):_0x1e32f1=RotomecaQuestReward[_0x4f73d8(0x1f3)][_0x4f73d8(0x153)];break;case _0x4f73d8(0x152):_0x1e32f1=RotomecaQuestReward[_0x4f73d8(0x1f3)][_0x4f73d8(0x1eb)];break;case _0x4f73d8(0x155):_0x1e32f1=RotomecaQuestReward[_0x4f73d8(0x1f3)][_0x4f73d8(0x1a1)];break;case _0x4f73d8(0x146):_0x1e32f1=RotomecaQuestReward[_0x4f73d8(0x1f3)][_0x4f73d8(0x150)];break;case _0x4f73d8(0x19f):_0x1e32f1=RotomecaQuestReward[_0x4f73d8(0x1f3)]['weapon'];break;case _0x4f73d8(0x158):_0x1e32f1=RotomecaQuestReward[_0x4f73d8(0x1f3)]['quest'];break;case _0x4f73d8(0xf9):_0x1e32f1=RotomecaQuestReward[_0x4f73d8(0x1f3)][_0x4f73d8(0xfa)];break;default:break;}_0x4dae19[_0x4f73d8(0x1df)](new RotomecaQuestReward(_0x1e32f1,_0x26519b['id'],_0x26519b[_0x4f73d8(0x12a)]));}}if(_0x39ad59[_0x4f73d8(0x1bf)]!==''){const _0x409e33=JSON[_0x4f73d8(0x101)](_0x39ad59[_0x4f73d8(0x1bf)]);for(let _0xdacf75=0x0;_0xdacf75<_0x409e33['length'];++_0xdacf75){const _0x4088f1=JSON[_0x4f73d8(0x101)](_0x409e33[_0xdacf75]);switch(_0x4088f1['type']){case _0x4f73d8(0xfd):_0x9c8162=RotomecaQuestSteps[_0x4f73d8(0x153)](_0xdacf75,_0x4088f1[_0x4f73d8(0x130)],_0x4088f1[_0x4f73d8(0x13c)],_0x4088f1[_0x4f73d8(0x1b0)],_0x4088f1[_0x4f73d8(0x1d7)]);break;case _0x4f73d8(0xfe):_0x9c8162=RotomecaQuestSteps['go_to'](_0xdacf75,_0x4088f1[_0x4f73d8(0x130)],_0x4088f1['Step\x20desc'],_0x4088f1['Is\x20Hidden']);break;case _0x4f73d8(0x13d):_0x9c8162=RotomecaQuestSteps[_0x4f73d8(0x15f)](_0xdacf75,_0x4088f1[_0x4f73d8(0x130)],_0x4088f1[_0x4f73d8(0x1d7)],_0x4088f1[_0x4f73d8(0x1b0)]);break;case _0x4f73d8(0x152):_0x9c8162=RotomecaQuestSteps[_0x4f73d8(0x1eb)](_0xdacf75,_0x4088f1[_0x4f73d8(0x130)],_0x4088f1['Is\x20Hidden'],_0x4088f1[_0x4f73d8(0x1d7)]);break;case _0x4f73d8(0x193):_0x9c8162=RotomecaQuestSteps[_0x4f73d8(0x21b)](_0xdacf75,_0x4088f1[_0x4f73d8(0x130)],_0x4088f1[_0x4f73d8(0x13c)],_0x4088f1[_0x4f73d8(0x1b0)]);break;case _0x4f73d8(0x181):_0x9c8162=RotomecaQuestSteps['get_items'](_0xdacf75,_0x4088f1[_0x4f73d8(0x130)],_0x4088f1[_0x4f73d8(0x13c)],_0x4088f1[_0x4f73d8(0x1b0)]);break;case _0x4f73d8(0x157):_0x9c8162=RotomecaQuestSteps['get_weapon'](_0xdacf75,_0x4088f1['Game\x20Data\x20Id'],_0x4088f1[_0x4f73d8(0x13c)],_0x4088f1[_0x4f73d8(0x1b0)]);break;case _0x4f73d8(0x1fe):_0x9c8162=RotomecaQuestSteps['get_armor'](_0xdacf75,_0x4088f1[_0x4f73d8(0x130)],_0x4088f1[_0x4f73d8(0x13c)],_0x4088f1[_0x4f73d8(0x1b0)]);break;case'Custom':_0x9c8162=Rotomeca[_0x4f73d8(0x131)]('Quest.GetCustomStep.Quest_'+(_0x4906ce+0x1)+_0x4f73d8(0x11e)+(_0xdacf75+0x1));break;default:break;}_0x4088f1['Next\x20Step(s)']!==''&&_0x9c8162[_0x4f73d8(0x11d)](JSON[_0x4f73d8(0x101)](_0x4088f1[_0x4f73d8(0x20c)])[_0x4f73d8(0x223)](_0x209b43=>JSON['parse'](_0x209b43)-0x1)),_0x4dae19['addStep'](_0x9c8162[_0x4f73d8(0x125)](_0x4dae19)),_0x9c8162=null;}}this[_0x4f73d8(0x108)][_0x4906ce+0x1]=_0x4dae19,_0x4dae19=null;}return this;}[_0x2c0e27(0x220)](_0x2adfcb){const _0x25932d=_0x2c0e27;return this[_0x25932d(0x108)][_0x2adfcb];}[_0x2c0e27(0x127)](_0x3a9201){const _0x2868b9=_0x2c0e27;return this[_0x2868b9(0x108)][_0x3a9201['id']]=_0x3a9201,this;}[_0x2c0e27(0x1a2)](_0x85df71){const _0xe65a91=_0x2c0e27;for(const _0x141057 in _0x85df71){if(Object['hasOwnProperty'][_0xe65a91(0x1ff)](_0x85df71,_0x141057)){const _0x53f45e=_0x85df71[_0x141057];this['add'](_0x53f45e);}}return this;}[_0x2c0e27(0x1c6)](_0x24551f){const _0x185898=_0x2c0e27;return this[_0x185898(0x108)][_0x24551f][_0x185898(0x142)](RotomecaQuest[_0x185898(0x1a7)][_0x185898(0x162)])[_0x185898(0xf6)](!![]);}['validateQuestStep'](_0x1d1c6f,_0x346b84){const _0x3d5d8f=_0x2c0e27,_0x46baed=this['quests'][_0x1d1c6f][_0x3d5d8f(0x211)](_0x346b84);if(_0x46baed!==-0x1)return this['quests'][_0x1d1c6f][_0x3d5d8f(0x173)][_0x46baed]['validate']();else throw _0x3d5d8f(0x203);}[_0x2c0e27(0x1c4)](_0x55930e){const _0xd32100=_0x2c0e27;return this['quests'][_0x55930e][_0xd32100(0x142)](RotomecaQuest[_0xd32100(0x1a7)][_0xd32100(0x10c)])[_0xd32100(0xf6)](!![]);}[_0x2c0e27(0x115)](_0x15b834,_0x5a5002){const _0x39f9ec=_0x2c0e27,_0x296908=this['quests'][_0x15b834][_0x39f9ec(0x211)](_0x5a5002);if(_0x296908!==-0x1)return this[_0x39f9ec(0x108)][_0x15b834][_0x39f9ec(0x173)][_0x296908]['failed']();else throw _0x39f9ec(0x203);}static[_0x2c0e27(0x12f)](_0x1b40d8){const _0x3c248f=_0x2c0e27;$gameParty[_0x3c248f(0x14a)][_0x3c248f(0x127)]($gameQuests[_0x3c248f(0x108)][_0x1b40d8]);}static[_0x2c0e27(0x107)](_0x38a359){const _0x387709=_0x2c0e27;let _0x1673f7=!![];if($gameQuests[_0x387709(0x108)][_0x38a359]!==undefined)this[_0x387709(0x12f)](_0x38a359);else _0x1673f7=![];return _0x1673f7;}}class QuestBook{constructor(){const _0x290b1c=_0x2c0e27;this[_0x290b1c(0x21d)]=[],this[_0x290b1c(0x1b6)]=[],this['failed_quests']=[],this[_0x290b1c(0x134)]=[];}['save'](){const _0x3d4ecb=_0x2c0e27;return{'main':this[_0x3d4ecb(0x1ac)](this[_0x3d4ecb(0x21d)]),'side':this[_0x3d4ecb(0x1ac)](this[_0x3d4ecb(0x1b6)]),'failed':this[_0x3d4ecb(0x1ac)](this['failed_quests']),'success':this[_0x3d4ecb(0x1ac)](this['succed_quests'])};}['_save'](_0x2c08dd){const _0x19d1bf=_0x2c0e27;return _0x2c08dd[_0x19d1bf(0x223)](_0x1744e2=>_0x1744e2[_0x19d1bf(0x205)]());}static[_0x2c0e27(0x19b)](_0x2c7390){const _0x286e83=_0x2c0e27;let _0x37d083=new QuestBook();return _0x37d083[_0x286e83(0x21d)]=QuestBook[_0x286e83(0x112)](_0x2c7390[_0x286e83(0x1b8)]),_0x37d083[_0x286e83(0x1b6)]=QuestBook['_load'](_0x2c7390[_0x286e83(0x14e)]),_0x37d083[_0x286e83(0x186)]=QuestBook['_load'](_0x2c7390[_0x286e83(0x10c)]),_0x37d083[_0x286e83(0x134)]=QuestBook['_load'](_0x2c7390[_0x286e83(0x21f)]),_0x37d083;}static[_0x2c0e27(0x112)](_0x2f4beb){const _0x1b809f=_0x2c0e27;let _0x4b8989=[],_0x2e16de=_0x2f4beb['filter'](_0x32ffab=>_0x32ffab!==null)['map'](_0x463764=>$gameQuests[_0x1b809f(0x220)](_0x463764['id'])[_0x1b809f(0x19b)](_0x463764));for(const _0x59d33e in _0x2e16de){if(Object[_0x1b809f(0x122)][_0x1b809f(0x1ff)](_0x2e16de,_0x59d33e)){const _0x383e2d=_0x2e16de[_0x59d33e];_0x4b8989[_0x383e2d['id']]=_0x383e2d;}}return _0x4b8989;}[_0x2c0e27(0x16a)](_0x4876cc){const _0x13a549=_0x2c0e27;for(const _0x4f5b9f in this){if(Object[_0x13a549(0x122)][_0x13a549(0x1ff)](this,_0x4f5b9f)){if(this[_0x4f5b9f][_0x4876cc]!==undefined&&this[_0x4f5b9f][_0x4876cc]!==null)return!![];}}return![];}[_0x2c0e27(0x127)](_0x1c6395){const _0x283bdc=_0x2c0e27;if(_0x1c6395[_0x283bdc(0x1b5)]())this['succed_quests'][_0x1c6395['id']]=_0x1c6395;else{if(_0x1c6395[_0x283bdc(0x20a)]())this[_0x283bdc(0x186)][_0x1c6395['id']]=_0x1c6395;else{if(_0x1c6395['category']===RotomecaQuest[_0x283bdc(0x19e)][_0x283bdc(0x1b8)])this[_0x283bdc(0x21d)][_0x1c6395['id']]=_0x1c6395;else{if(_0x1c6395[_0x283bdc(0x217)]===RotomecaQuest[_0x283bdc(0x19e)]['side'])this[_0x283bdc(0x1b6)][_0x1c6395['id']]=_0x1c6395;else throw _0x283bdc(0xf8);}}}}async['update_category_async'](){const _0x10b25a=_0x2c0e27;let _0x42af68=[new Promise((_0x2d516e,_0xb32f02)=>{const _0x2648d4=_0x39cb;this[_0x2648d4(0x20e)](),_0x2d516e(!![]);}),new Promise((_0x6599f4,_0xb4e5ab)=>{const _0x52512=_0x39cb;this[_0x52512(0x1d5)](),_0x6599f4(!![]);})];await Promise[_0x10b25a(0x1cf)](_0x42af68);}async[_0x2c0e27(0x1c9)](){const _0x120e91=_0x2c0e27;await Promise[_0x120e91(0x1cf)]([...this['_update_main_async'](),...this[_0x120e91(0x1bc)]()]),await this[_0x120e91(0x1ce)]();}[_0x2c0e27(0xf6)](){const _0x4686a3=_0x2c0e27;return this['_update_main']()[_0x4686a3(0x163)]()[_0x4686a3(0x1b1)]();}[_0x2c0e27(0x221)](){const _0x2e67f3=_0x2c0e27;for(const _0xf56ef7 in this['main_quests']){Object['hasOwnProperty'][_0x2e67f3(0x1ff)](this[_0x2e67f3(0x21d)],_0xf56ef7)&&this['main_quests'][_0xf56ef7][_0x2e67f3(0xf6)]();}return this;}[_0x2c0e27(0x163)](){const _0xf8babe=_0x2c0e27;for(const _0xa02da8 in this[_0xf8babe(0x1b6)]){Object[_0xf8babe(0x122)][_0xf8babe(0x1ff)](this[_0xf8babe(0x1b6)],_0xa02da8)&&this[_0xf8babe(0x1b6)][_0xa02da8][_0xf8babe(0xf6)]();}return this;}[_0x2c0e27(0x106)](){const _0x536feb=_0x2c0e27;let _0x30a06d=[];for(const _0x2dcb5a in this[_0x536feb(0x21d)]){Object[_0x536feb(0x122)][_0x536feb(0x1ff)](this[_0x536feb(0x21d)],_0x2dcb5a)&&_0x30a06d[_0x536feb(0x16d)](new Promise((_0x3acaaf,_0x46276d)=>{const _0x43fe7f=_0x536feb;this[_0x43fe7f(0x21d)][_0x2dcb5a]['update'](),_0x3acaaf(!![]);}));}return _0x30a06d;}[_0x2c0e27(0x1bc)](){const _0x46c6c7=_0x2c0e27;let _0x126803=[];for(const _0x3e664f in this[_0x46c6c7(0x1b6)]){Object[_0x46c6c7(0x122)][_0x46c6c7(0x1ff)](this[_0x46c6c7(0x1b6)],_0x3e664f)&&_0x126803[_0x46c6c7(0x16d)](new Promise((_0xb61a28,_0x55b6d1)=>{const _0x500e83=_0x46c6c7;this[_0x500e83(0x1b6)][_0x3e664f][_0x500e83(0xf6)](),_0xb61a28(!![]);}));}return _0x126803;}[_0x2c0e27(0x1b1)](){const _0x518075=_0x2c0e27;return this['_update_category_main']()[_0x518075(0x1d5)]();}[_0x2c0e27(0x20e)](){const _0x376722=_0x2c0e27;for(const _0x359931 in this[_0x376722(0x21d)]){if(Object[_0x376722(0x122)][_0x376722(0x1ff)](this['main_quests'],_0x359931)){if(this[_0x376722(0x21d)][_0x359931][_0x376722(0x1b5)]())this['succed_quests'][_0x359931]=this['main_quests'][_0x359931],delete this[_0x376722(0x21d)][_0x359931];else this['main_quests'][_0x359931][_0x376722(0x20a)]()&&(this[_0x376722(0x186)][_0x359931]=this[_0x376722(0x21d)][_0x359931],delete this[_0x376722(0x21d)][_0x359931]);}}return this;}['_update_category_side'](){const _0x33d28b=_0x2c0e27;for(const _0x3faccc in this[_0x33d28b(0x1b6)]){if(Object[_0x33d28b(0x122)][_0x33d28b(0x1ff)](this[_0x33d28b(0x1b6)],_0x3faccc)){if(this[_0x33d28b(0x1b6)][_0x3faccc][_0x33d28b(0x1b5)]())this[_0x33d28b(0x134)][_0x3faccc]=this[_0x33d28b(0x1b6)][_0x3faccc],delete this[_0x33d28b(0x1b6)][_0x3faccc];else this[_0x33d28b(0x1b6)][_0x3faccc][_0x33d28b(0x20a)]()&&(this[_0x33d28b(0x186)][_0x3faccc]=this[_0x33d28b(0x1b6)][_0x3faccc],delete this['side_quests'][_0x3faccc]);}}return this;}}const alias_rotomeca_Game_Party_prototype_initialize=Game_Party[_0x2c0e27(0x21a)][_0x2c0e27(0x121)];Game_Party[_0x2c0e27(0x21a)]['initialize']=function(){const _0x2227cd=_0x2c0e27;this[_0x2227cd(0x14a)]=new QuestBook(),alias_rotomeca_Game_Party_prototype_initialize[_0x2227cd(0x1ff)](this);};function _0x39cb(_0xd4a226,_0xe3845d){const _0x69c3dd=_0x69c3();return _0x39cb=function(_0x39cb8b,_0x11d2c1){_0x39cb8b=_0x39cb8b-0xf3;let _0x342c27=_0x69c3dd[_0x39cb8b];return _0x342c27;},_0x39cb(_0xd4a226,_0xe3845d);}const alias_rotomeca_Game_Party_prototype_initAllItems=Game_Party[_0x2c0e27(0x21a)][_0x2c0e27(0x141)];Game_Party[_0x2c0e27(0x21a)]['initAllItems']=function(){const _0x1d882f=_0x2c0e27;alias_rotomeca_Game_Party_prototype_initAllItems['call'](this);let _0x1d80a5=Rotomeca[_0x1d882f(0x21e)]['parameters'][_0x1d882f(0x1d3)]||'';if(_0x1d80a5!==''){_0x1d80a5=JSON['parse'](_0x1d80a5)['map'](_0x28e0c3=>JSON[_0x1d882f(0x101)](_0x28e0c3));for(let _0x2de8c9=0x0;_0x2de8c9<_0x1d80a5[_0x1d882f(0x120)];++_0x2de8c9){const _0x52a2fa=_0x1d80a5[_0x2de8c9];if($gameQuests['quests'][_0x52a2fa]!==undefined)this[_0x1d882f(0x14a)]['add']($gameQuests['quests'][_0x52a2fa]);}}},Game_Party['prototype'][_0x2c0e27(0x165)]=function(_0x13183f=!![]){const _0x251978=_0x2c0e27;let _0x2fc270=this[_0x251978(0x137)]();return _0x13183f&&_0x2fc270[_0x251978(0x16d)](...this[_0x251978(0x172)]()[_0x251978(0x189)](_0xf3a983=>_0xf3a983[_0x251978(0x1b9)]['filter']((_0x460e93,_0x7c3fb8)=>_0x460e93[_0x251978(0x179)]===_0x251978(0x150)&&_0x460e93['_itemId']!==0x0))[_0x251978(0x223)](_0x2519a0=>_0x2519a0[_0x251978(0x17a)]())),_0x2fc270;},Game_Party[_0x2c0e27(0x21a)][_0x2c0e27(0x139)]=function(_0xa9d455=!![]){const _0x1cc5d6=_0x2c0e27;let _0x48a839=this[_0x1cc5d6(0x10e)]();return _0xa9d455&&_0x48a839[_0x1cc5d6(0x16d)](...this[_0x1cc5d6(0x172)]()['flatMap'](_0xbe0fad=>_0xbe0fad[_0x1cc5d6(0x1b9)][_0x1cc5d6(0xf4)]((_0x53ffa2,_0xca446d)=>_0x53ffa2[_0x1cc5d6(0x179)]===_0x1cc5d6(0x184)&&_0x53ffa2[_0x1cc5d6(0x17b)]!==0x0))[_0x1cc5d6(0x223)](_0x4b31b3=>_0x4b31b3[_0x1cc5d6(0x17a)]())),_0x48a839;},Game_Party[_0x2c0e27(0x21a)][_0x2c0e27(0x1e1)]=function(){const _0x3648f8=_0x2c0e27;this[_0x3648f8(0x14a)]['update']();},Game_Party[_0x2c0e27(0x21a)][_0x2c0e27(0x204)]=async function(){const _0xa511f6=_0x2c0e27;await this[_0xa511f6(0x14a)]['update_async']();};if(Rotomeca[_0x2c0e27(0x21e)][_0x2c0e27(0x1db)][_0x2c0e27(0x1e0)]){const alias_rotomeca_Game_Party_prototype_gainItem=Game_Party[_0x2c0e27(0x21a)][_0x2c0e27(0x198)];Game_Party['prototype'][_0x2c0e27(0x198)]=function(_0x54e36d,_0x4482c5,_0x430276){const _0x4d0ed8=_0x2c0e27;alias_rotomeca_Game_Party_prototype_gainItem['call'](this,_0x54e36d,_0x4482c5,_0x430276),$gameParty[_0x4d0ed8(0x204)]();};}if(Rotomeca[_0x2c0e27(0x21e)]['parameters'][_0x2c0e27(0x1e0)]){const alias_rotomeca_Game_Interpreter_prototype_command122=Game_Interpreter[_0x2c0e27(0x21a)][_0x2c0e27(0x1ab)];Game_Interpreter[_0x2c0e27(0x21a)][_0x2c0e27(0x1ab)]=function(_0x111ab4){return alias_rotomeca_Game_Interpreter_prototype_command122['call'](this,_0x111ab4),$gameParty['updateQuestsAsync'](),!![];};const alias_rotomeca_Game_Interpreter_prototype_command123=Game_Interpreter[_0x2c0e27(0x21a)][_0x2c0e27(0x1f5)];Game_Interpreter[_0x2c0e27(0x21a)][_0x2c0e27(0x1f5)]=function(..._0x5b40a0){const _0x1a1008=_0x2c0e27;return alias_rotomeca_Game_Interpreter_prototype_command123[_0x1a1008(0x1ff)](this,..._0x5b40a0),$gameParty[_0x1a1008(0x204)](),!![];};}const alias_rotomeca_Game_Battler_prototype_performCollapse=Game_Battler[_0x2c0e27(0x21a)][_0x2c0e27(0x1bd)];Game_Battler[_0x2c0e27(0x21a)]['performCollapse']=function(){const _0x2062f3=_0x2c0e27;alias_rotomeca_Game_Battler_prototype_performCollapse['call'](this);if(this[_0x2062f3(0x1e9)]()&&this['isDead']())Rotomeca[_0x2062f3(0x131)]('Monster.Killed',this);};if(Rotomeca[_0x2c0e27(0x21e)][_0x2c0e27(0x1db)][_0x2c0e27(0x1e0)]){const alias_rotomeca_Game_Battler_prototype_onBattleEnd=Game_Battler[_0x2c0e27(0x21a)][_0x2c0e27(0x145)];Game_Battler[_0x2c0e27(0x21a)]['onBattleEnd']=function(){const _0x1f964c=_0x2c0e27;alias_rotomeca_Game_Battler_prototype_onBattleEnd[_0x1f964c(0x1ff)](this),$gameParty[_0x1f964c(0x204)]();};}const alias_rotomeca_Scene_Title_prototype_commandNewGame=Scene_Title[_0x2c0e27(0x21a)][_0x2c0e27(0x18c)];Scene_Title[_0x2c0e27(0x21a)]['commandNewGame']=function(){const _0x2b42ba=_0x2c0e27;Rotomeca[_0x2b42ba(0x21e)][_0x2b42ba(0x16c)](),alias_rotomeca_Scene_Title_prototype_commandNewGame[_0x2b42ba(0x1ff)](this);};const alias_rotomeca_Scene_Load_prototype_executeLoad=Scene_Load[_0x2c0e27(0x21a)][_0x2c0e27(0x20f)];Scene_Load[_0x2c0e27(0x21a)][_0x2c0e27(0x20f)]=function(_0x51a1d3){const _0x18699c=_0x2c0e27;Rotomeca[_0x18699c(0x21e)][_0x18699c(0x16c)](),alias_rotomeca_Scene_Load_prototype_executeLoad['call'](this,_0x51a1d3);};const alias_rotomeca_Scene_Load_prototype_onLoadSuccess=Scene_Load[_0x2c0e27(0x21a)][_0x2c0e27(0x164)];Scene_Load[_0x2c0e27(0x21a)]['onLoadSuccess']=function(){const _0x592701=_0x2c0e27;alias_rotomeca_Scene_Load_prototype_onLoadSuccess[_0x592701(0x1ff)](this),$gameParty[_0x592701(0x14a)]=QuestBook[_0x592701(0x19b)]($gameParty[_0x592701(0x14a)]);};const alias_rotomeca_Scene_Save_prototype_executeSave=Scene_Save[_0x2c0e27(0x21a)][_0x2c0e27(0x1fc)];Scene_Save[_0x2c0e27(0x21a)]['executeSave']=function(_0x3ffa44){const _0x3188d4=_0x2c0e27;Rotomeca[_0x3188d4(0x21e)]['tmp']=$gameParty[_0x3188d4(0x14a)],$gameParty[_0x3188d4(0x14a)]=$gameParty[_0x3188d4(0x14a)]['save'](),alias_rotomeca_Scene_Save_prototype_executeSave[_0x3188d4(0x1ff)](this,_0x3ffa44);};const alias_rotomeca_Scene_Save_prototype_onSaveSuccess=Scene_Save[_0x2c0e27(0x21a)][_0x2c0e27(0x174)];Scene_Save['prototype'][_0x2c0e27(0x174)]=function(){const _0x325d92=_0x2c0e27;alias_rotomeca_Scene_Save_prototype_onSaveSuccess[_0x325d92(0x1ff)](this),$gameParty[_0x325d92(0x14a)]=Rotomeca[_0x325d92(0x21e)][_0x325d92(0x171)];},Window_MenuCommand[_0x2c0e27(0x21a)][_0x2c0e27(0x1fd)]=function(){const _0x1cd410=_0x2c0e27;return Rotomeca[_0x1cd410(0x21e)]['isQuestEnabled']===!![];};const alias_rotomeca_Window_MenuCommand_prototype_addOriginalCommands=Window_MenuCommand['prototype'][_0x2c0e27(0x1c8)];Window_MenuCommand[_0x2c0e27(0x21a)]['addOriginalCommands']=function(){const _0x39be3a=_0x2c0e27;alias_rotomeca_Window_MenuCommand_prototype_addOriginalCommands[_0x39be3a(0x1ff)](this);if(this[_0x39be3a(0x135)]('quest')){const _0xb25d52=this[_0x39be3a(0x1fd)]();this[_0x39be3a(0x10f)](Rotomeca[_0x39be3a(0x21e)][_0x39be3a(0x1db)][_0x39be3a(0x1b4)],'quest',_0xb25d52);}},Rotomeca[_0x2c0e27(0x123)](_0x2c0e27(0x1c7),(_0x3306cd,_0x2146bb)=>{const _0xa3f00c=_0x2c0e27;_0x2146bb[_0xa3f00c(0x13a)](_0xa3f00c(0x159),(()=>{const _0x26c7de=_0xa3f00c;SceneManager[_0x26c7de(0x16d)](Scene_Quest);})[_0xa3f00c(0x1f1)](_0x3306cd));});function Window_MenuQuestCommand(){this['initialize'](...arguments);}Window_MenuQuestCommand[_0x2c0e27(0x21a)]=Object[_0x2c0e27(0x160)](Window_HorzCommand[_0x2c0e27(0x21a)]),Window_MenuQuestCommand['prototype']['constructor']=Window_MenuQuestCommand,Window_MenuQuestCommand['prototype'][_0x2c0e27(0x121)]=function(_0x288741){const _0x4a1c99=_0x2c0e27;Window_HorzCommand[_0x4a1c99(0x21a)][_0x4a1c99(0x121)][_0x4a1c99(0x1ff)](this,_0x288741);},Window_MenuQuestCommand['prototype']['makeCommandList']=function(){const _0x12c2f3=_0x2c0e27;this[_0x12c2f3(0x1c8)]();},Window_MenuQuestCommand[_0x2c0e27(0x21a)][_0x2c0e27(0x1c8)]=function(){const _0x35f4e2=_0x2c0e27;this[_0x35f4e2(0x10f)](_0x35f4e2(0x1c2),'main',$gameParty['_quests'][_0x35f4e2(0x21d)][_0x35f4e2(0xf4)](_0x1e65ae=>(_0x1e65ae??null)!==null)[_0x35f4e2(0x120)]>0x0),this[_0x35f4e2(0x10f)](_0x35f4e2(0x102),_0x35f4e2(0x14e),$gameParty[_0x35f4e2(0x14a)][_0x35f4e2(0x1b6)][_0x35f4e2(0x120)]>0x0),this[_0x35f4e2(0x10f)]('Finies',_0x35f4e2(0x162),$gameParty[_0x35f4e2(0x14a)]['succed_quests']['length']>0x0),this['addCommand']('Echouées','failed',$gameParty[_0x35f4e2(0x14a)][_0x35f4e2(0x186)][_0x35f4e2(0x120)]>0x0);};function Window_QuestSelect(){const _0x4c130c=_0x2c0e27;this[_0x4c130c(0x121)](...arguments);}Window_QuestSelect['prototype']=Object['create'](Window_Command[_0x2c0e27(0x21a)]),Window_QuestSelect['prototype'][_0x2c0e27(0x1e7)]=Window_QuestSelect,Window_QuestSelect[_0x2c0e27(0x21a)][_0x2c0e27(0x121)]=function(_0xb00f5c,_0x2eacb9){const _0xf01a92=_0x2c0e27;this[_0xf01a92(0x14a)]=_0x2eacb9,Window_Command[_0xf01a92(0x21a)][_0xf01a92(0x121)][_0xf01a92(0x1ff)](this,_0xb00f5c);},Window_QuestSelect['prototype'][_0x2c0e27(0x1cd)]=function(){const _0xcaf8ce=_0x2c0e27;Window_Command['prototype'][_0xcaf8ce(0x1cd)][_0xcaf8ce(0x1ff)](this),this[_0xcaf8ce(0x1c8)]();},Window_QuestSelect[_0x2c0e27(0x21a)][_0x2c0e27(0x1c8)]=function(){const _0x3301c3=_0x2c0e27;for(const _0x3575da in this[_0x3301c3(0x14a)]){if(this[_0x3301c3(0x14a)][_0x3575da]!==null&&Object[_0x3301c3(0x122)]['call'](this[_0x3301c3(0x14a)],_0x3575da)){const _0x1fe085=this['_quests'][_0x3575da];this[_0x3301c3(0x10f)](_0x1fe085[_0x3301c3(0x14c)],_0x1fe085['id'],!![]);}}};function Window_QuestBase(){this['initialize'](...arguments);}Window_QuestBase['prototype']=Object[_0x2c0e27(0x160)](Window_Scrollable[_0x2c0e27(0x21a)]),Window_QuestBase['prototype']['constructor']=Window_QuestBase,Window_QuestBase['prototype'][_0x2c0e27(0x121)]=function(_0x3ed27e,_0x7fbba1,_0x242b2d){const _0x5d123d=_0x2c0e27;this['_parent']=_0x7fbba1,this['_index']=_0x7fbba1[_0x5d123d(0x16b)],this[_0x5d123d(0x14a)]=_0x242b2d,Window_Scrollable[_0x5d123d(0x21a)]['initialize'][_0x5d123d(0x1ff)](this,_0x3ed27e),this[_0x5d123d(0x1ea)]();},Window_QuestBase[_0x2c0e27(0x21a)]['paint']=function(){const _0x631f38=_0x2c0e27;Window_Scrollable[_0x631f38(0x21a)][_0x631f38(0x1ea)][_0x631f38(0x1ff)](this),this[_0x631f38(0x17c)]();try{this[_0x631f38(0x192)]();}catch(_0x1a070a){}this[_0x631f38(0x1da)]();},Window_QuestBase[_0x2c0e27(0x21a)][_0x2c0e27(0x105)]=function(){const _0x512a48=_0x2c0e27;this[_0x512a48(0x16b)]=this[_0x512a48(0x1b7)]['_index'],this[_0x512a48(0xf6)](),this['paint']();},Window_QuestBase[_0x2c0e27(0x21a)]['_refresh']=function(){},Window_QuestBase['prototype'][_0x2c0e27(0x192)]=function(){const _0x466a50=_0x2c0e27;this[_0x466a50(0x219)](this['_quests'][parseInt(this[_0x466a50(0x1b7)][_0x466a50(0x1a6)][this[_0x466a50(0x16b)]][_0x466a50(0x13b)])]);},Window_QuestBase[_0x2c0e27(0x21a)][_0x2c0e27(0x219)]=function(_0x283c97){};function Window_QuestMain(){this['initialize'](...arguments);}Window_QuestMain[_0x2c0e27(0x21a)]=Object[_0x2c0e27(0x160)](Window_QuestBase[_0x2c0e27(0x21a)]),Window_QuestMain[_0x2c0e27(0x21a)][_0x2c0e27(0x1e7)]=Window_QuestMain,Window_QuestMain[_0x2c0e27(0x21a)][_0x2c0e27(0x121)]=function(_0x57fc8d,_0xe54c49,_0x3d79c1){const _0x1ce1ec=_0x2c0e27;Window_QuestBase[_0x1ce1ec(0x21a)][_0x1ce1ec(0x121)][_0x1ce1ec(0x1ff)](this,_0x57fc8d,_0xe54c49,_0x3d79c1);},Window_QuestMain[_0x2c0e27(0x21a)][_0x2c0e27(0x219)]=function(_0x548cb4){const _0x4fc0fa=_0x2c0e27;Window_QuestBase[_0x4fc0fa(0x21a)][_0x4fc0fa(0x219)]['call'](this),this[_0x4fc0fa(0x169)](_0x548cb4['name']),this[_0x4fc0fa(0x213)](_0x548cb4[_0x4fc0fa(0x1e2)]),this[_0x4fc0fa(0x18b)](_0x548cb4[_0x4fc0fa(0x154)]);},Window_QuestMain['prototype']['_draw_name']=function(_0x550df0){const _0x3a0444=_0x2c0e27,_0x5a3a85=0x0,_0x297321=0x24,_0x991a54=Graphics[_0x3a0444(0x191)]-Graphics['width']/0x4;this[_0x3a0444(0x176)](_0x3a0444(0x147)+_0x550df0,_0x5a3a85,_0x297321,_0x991a54);},Window_QuestMain[_0x2c0e27(0x21a)][_0x2c0e27(0x18b)]=function(_0x545906){const _0x5237c0=_0x2c0e27,_0x16e42b=Graphics[_0x5237c0(0x191)]-Graphics[_0x5237c0(0x191)]/0x4-0x18-this[_0x5237c0(0xfb)](_0x545906),_0x2fa984=0x0,_0x2e0843=(Graphics[_0x5237c0(0x191)]-Graphics[_0x5237c0(0x191)]/0x4)/0x2;this[_0x5237c0(0x176)](_0x545906,_0x16e42b,_0x2fa984,_0x2e0843);},Window_QuestMain[_0x2c0e27(0x21a)][_0x2c0e27(0x213)]=function(_0x50dd6d){const _0x1a03f8=_0x2c0e27,_0xb24e03=0x0,_0x72a802=0x0,_0x53dfc5=(Graphics[_0x1a03f8(0x191)]-Graphics['width']/0x4)/0x2;this[_0x1a03f8(0x176)](_0x50dd6d,_0xb24e03,_0x72a802,_0x53dfc5);};function Window_QuestDesc(){const _0x2ad89d=_0x2c0e27;this[_0x2ad89d(0x121)](...arguments);}Window_QuestDesc['prototype']=Object[_0x2c0e27(0x160)](Window_QuestBase[_0x2c0e27(0x21a)]),Window_QuestDesc[_0x2c0e27(0x21a)][_0x2c0e27(0x1e7)]=Window_QuestDesc,Window_QuestDesc[_0x2c0e27(0x21a)][_0x2c0e27(0x121)]=function(_0x1c22ae,_0x2d4219,_0x4816d5){const _0x390462=_0x2c0e27;Window_QuestBase['prototype'][_0x390462(0x121)][_0x390462(0x1ff)](this,_0x1c22ae,_0x2d4219,_0x4816d5);},Window_QuestDesc[_0x2c0e27(0x21a)]['_draw']=function(_0x4f1426){const _0xd5a181=_0x2c0e27;Window_QuestBase[_0xd5a181(0x21a)][_0xd5a181(0x219)][_0xd5a181(0x1ff)](this),this[_0xd5a181(0x129)](_0x4f1426['desc']);},Window_QuestDesc[_0x2c0e27(0x21a)][_0x2c0e27(0x129)]=function(_0x74ed99){const _0x4d5ad4=_0x2c0e27,_0x4a8c83=0x0,_0x27f1de=-this['_scrollBaseY'];this[_0x4d5ad4(0x1e6)](_0x74ed99,_0x4a8c83,_0x27f1de,this[_0x4d5ad4(0xfb)](_0x74ed99));},Window_QuestDesc['prototype'][_0x2c0e27(0x114)]=function(){const _0x10f8f6=_0x2c0e27;try{return this[_0x10f8f6(0x16e)](this[_0x10f8f6(0x14a)][parseInt(this[_0x10f8f6(0x1b7)][_0x10f8f6(0x1a6)][this[_0x10f8f6(0x16b)]][_0x10f8f6(0x13b)])]['desc'])[_0x10f8f6(0x167)];}catch(_0x8b4fee){return 0x0;}};function Window_QuestSteps(){this['initialize'](...arguments);}Window_QuestSteps[_0x2c0e27(0x21a)]=Object[_0x2c0e27(0x160)](Window_QuestBase[_0x2c0e27(0x21a)]),Window_QuestSteps[_0x2c0e27(0x21a)][_0x2c0e27(0x1e7)]=Window_QuestSteps,Window_QuestSteps[_0x2c0e27(0x21a)][_0x2c0e27(0x121)]=function(_0x5b29b2,_0x40ed3a,_0x3a49e4){const _0x548211=_0x2c0e27;Window_QuestBase[_0x548211(0x21a)][_0x548211(0x121)][_0x548211(0x1ff)](this,_0x5b29b2,_0x40ed3a,_0x3a49e4);},Window_QuestSteps[_0x2c0e27(0x21a)][_0x2c0e27(0x104)]=function(){const _0x46ef99=_0x2c0e27;return this[_0x46ef99(0x14a)][parseInt(this[_0x46ef99(0x1b7)]['_list'][this[_0x46ef99(0x16b)]][_0x46ef99(0x13b)])];},Window_QuestSteps[_0x2c0e27(0x21a)]['_draw']=function(_0x465ad1){const _0x1f4530=_0x2c0e27;Window_QuestBase[_0x1f4530(0x21a)][_0x1f4530(0x219)][_0x1f4530(0x1ff)](this),this[_0x1f4530(0x118)](_0x465ad1[_0x1f4530(0x173)]);},Window_QuestSteps[_0x2c0e27(0x21a)][_0x2c0e27(0x118)]=function(_0x530a68){const _0x510fac=_0x2c0e27;let _0x4cb760=0x0;const _0xdc467a=0x0,_0x3d063d=-this[_0x510fac(0x136)],_0x56367a=(Graphics[_0x510fac(0x191)]-Graphics[_0x510fac(0x191)]/0x4)/0x2-0x18,_0x280f9c=_0x530a68[_0x510fac(0x201)]((_0x5b6021,_0x40e4f5)=>{const _0x4b93cd=_0x510fac;if(_0x5b6021[_0x4b93cd(0x1cc)]===_0x40e4f5[_0x4b93cd(0x1cc)])return 0x0;return _0x5b6021[_0x4b93cd(0x1cc)]&&!_0x40e4f5['isValid']?0x1:-0x1;});this[_0x510fac(0x176)](''+Rotomeca[_0x510fac(0x21e)][_0x510fac(0x1ef)]('STEP')+(_0x280f9c['length']>0x1&&Rotomeca[_0x510fac(0x21e)][_0x510fac(0x18f)](_0x510fac(0x1fa),_0x510fac(0x197))?'s':'')+_0x510fac(0x1cb),_0xdc467a,0x0,_0x56367a);for(let _0xa1fca0=0x0;_0xa1fca0<_0x280f9c[_0x510fac(0x120)];++_0xa1fca0){const _0x2b0138=_0x280f9c[_0xa1fca0];if(_0x2b0138[_0x510fac(0x1d1)]){++_0x4cb760;continue;};this[_0x510fac(0x144)]();if(_0x2b0138['isValid'])this[_0x510fac(0x1d6)](_0x510fac(0x17d));this[_0x510fac(0x176)](_0x2b0138[_0x510fac(0x1a0)],_0xdc467a,_0x3d063d+(_0xa1fca0+0x1-_0x4cb760)*this['lineHeight'](),_0x56367a);}},Window_QuestSteps['prototype']['overallHeight']=function(){const _0x4c7815=_0x2c0e27;try{if(this[_0x4c7815(0x104)]&&this[_0x4c7815(0x104)]()[_0x4c7815(0x173)])return(this['current_quest']()[_0x4c7815(0x173)]['length']+0x1)*this[_0x4c7815(0xfc)]();else return 0x0;}catch(_0x4d69f3){return 0x0;}};function Window_QuestRewards(){const _0x2146cf=_0x2c0e27;this[_0x2146cf(0x121)](...arguments);}Window_QuestRewards[_0x2c0e27(0x21a)]=Object[_0x2c0e27(0x160)](Window_QuestBase[_0x2c0e27(0x21a)]),Window_QuestRewards[_0x2c0e27(0x21a)][_0x2c0e27(0x1e7)]=Window_QuestRewards,Window_QuestRewards[_0x2c0e27(0x21a)][_0x2c0e27(0x121)]=function(_0x5f32fc,_0x5128af,_0x804e04){const _0x2f0b72=_0x2c0e27;Window_QuestBase['prototype'][_0x2f0b72(0x121)]['call'](this,_0x5f32fc,_0x5128af,_0x804e04);},Window_QuestRewards[_0x2c0e27(0x21a)]['current_quest']=function(){const _0x1278a7=_0x2c0e27;return this[_0x1278a7(0x14a)][parseInt(this[_0x1278a7(0x1b7)][_0x1278a7(0x1a6)][this['_index']][_0x1278a7(0x13b)])];},Window_QuestRewards['prototype'][_0x2c0e27(0x219)]=function(_0x1ac5ef){const _0x103ab8=_0x2c0e27;Window_QuestBase['prototype'][_0x103ab8(0x219)]['call'](this),this['_draw_rewards'](_0x1ac5ef[_0x103ab8(0x13f)]);},Window_QuestRewards[_0x2c0e27(0x21a)][_0x2c0e27(0x19a)]=function(_0x486fd0){const _0x42160a=_0x2c0e27;let _0x5b3d9d=0x0;const _0x505b0c=0x0,_0x1d3742=-this[_0x42160a(0x136)],_0x56b55d=(Graphics['width']-Graphics[_0x42160a(0x191)]/0x4)/0x2-0x18,_0x334361=_0x486fd0;this[_0x42160a(0x176)](''+Rotomeca[_0x42160a(0x21e)]['gettext'](_0x42160a(0x1c5))+(_0x334361['length']>0x1&&Rotomeca[_0x42160a(0x21e)][_0x42160a(0x18f)](_0x42160a(0x1c5),_0x42160a(0x197))?'s':'')+_0x42160a(0x1cb),_0x505b0c,_0x1d3742,_0x56b55d);for(let _0x1ad8f1=0x0;_0x1ad8f1<_0x334361[_0x42160a(0x120)];++_0x1ad8f1){const _0x10806d=_0x334361[_0x1ad8f1];this[_0x42160a(0x1de)](_0x10806d,_0x505b0c,_0x1d3742+(_0x1ad8f1+0x1-_0x5b3d9d)*this[_0x42160a(0xfc)](),_0x56b55d);}},Window_QuestRewards['prototype']['_draw_reward']=function(_0x31b1ec,_0x312cab,_0x2c60e4,_0x295101){const _0x51e9e3=_0x2c0e27;switch(_0x31b1ec[_0x51e9e3(0x1f6)]){case RotomecaQuestReward[_0x51e9e3(0x1f3)][_0x51e9e3(0x1f7)]:this[_0x51e9e3(0x1ed)](0xa9,_0x312cab,_0x2c60e4),this[_0x51e9e3(0x176)]('x'+_0x31b1ec[_0x51e9e3(0x14f)],_0x312cab+0x20,_0x2c60e4,_0x295101-0x20);break;case RotomecaQuestReward[_0x51e9e3(0x1f3)][_0x51e9e3(0x150)]:this['drawIcon']($dataArmors[_0x31b1ec[_0x51e9e3(0x1a5)]][_0x51e9e3(0x190)],_0x312cab,_0x2c60e4),this[_0x51e9e3(0x176)]($dataArmors[_0x31b1ec[_0x51e9e3(0x1a5)]]['name']+'x'+_0x31b1ec[_0x51e9e3(0x14f)],_0x312cab+0x20,_0x2c60e4,_0x295101-0x20);break;case RotomecaQuestReward['types'][_0x51e9e3(0x184)]:this[_0x51e9e3(0x1ed)]($dataWeapons[_0x31b1ec[_0x51e9e3(0x1a5)]][_0x51e9e3(0x190)],_0x312cab,_0x2c60e4),this[_0x51e9e3(0x176)]($dataWeapons[_0x31b1ec[_0x51e9e3(0x1a5)]][_0x51e9e3(0x14c)]+'x'+_0x31b1ec['reward_amount'],_0x312cab+0x20,_0x2c60e4,_0x295101-0x20);break;case RotomecaQuestReward['types'][_0x51e9e3(0x1a1)]:this[_0x51e9e3(0x1ed)]($dataItems[_0x31b1ec[_0x51e9e3(0x1a5)]][_0x51e9e3(0x190)],_0x312cab,_0x2c60e4),this['drawText']($dataItems[_0x31b1ec[_0x51e9e3(0x1a5)]][_0x51e9e3(0x14c)]+'x'+_0x31b1ec[_0x51e9e3(0x14f)],_0x312cab+0x20,_0x2c60e4,_0x295101-0x20);break;case RotomecaQuestReward[_0x51e9e3(0x1f3)][_0x51e9e3(0x159)]:this['drawIcon']($gameQuests['get'](_0x31b1ec[_0x51e9e3(0x1a5)])['category']===RotomecaQuest[_0x51e9e3(0x19e)][_0x51e9e3(0x1b8)]?0xe5:0xe6,_0x312cab,_0x2c60e4),this['drawText']($gameQuests[_0x51e9e3(0x220)](_0x31b1ec[_0x51e9e3(0x1a5)])[_0x51e9e3(0x14c)],_0x312cab+0x20,_0x2c60e4,_0x295101-0x20);break;default:break;}},Window_QuestRewards[_0x2c0e27(0x21a)][_0x2c0e27(0x114)]=function(){const _0xd43b19=_0x2c0e27;try{return(this['current_quest']()['rewards'][_0xd43b19(0x120)]+0x1)*this[_0xd43b19(0xfc)]();}catch(_0x4cce9e){return 0x0;}};function Window_Quest(){const _0x24bb48=_0x2c0e27;this[_0x24bb48(0x121)](...arguments);}Window_Quest[_0x2c0e27(0x21a)]=Object[_0x2c0e27(0x160)](Window_QuestBase[_0x2c0e27(0x21a)]),Window_Quest[_0x2c0e27(0x21a)][_0x2c0e27(0x1e7)]=Window_Quest,Window_Quest['prototype'][_0x2c0e27(0x121)]=function(_0xdca586,_0x2864a9,_0x44abfd,_0x58e384){const _0x1fe2c5=_0x2c0e27;this['_windows']=[],this[_0x1fe2c5(0x12b)]=_0x44abfd,this[_0x1fe2c5(0x224)]=![],Window_QuestBase[_0x1fe2c5(0x21a)]['initialize']['call'](this,_0xdca586,_0x2864a9,_0x58e384);},Window_Quest['prototype'][_0x2c0e27(0x105)]=function(){const _0x535ea6=_0x2c0e27;this[_0x535ea6(0x224)]=this[_0x535ea6(0x16b)]!==this[_0x535ea6(0x1b7)][_0x535ea6(0x16b)],Window_QuestBase[_0x535ea6(0x21a)][_0x535ea6(0x105)][_0x535ea6(0x1ff)](this);},Window_Quest[_0x2c0e27(0x21a)][_0x2c0e27(0x1da)]=function(){const _0x290f7b=_0x2c0e27;Window_QuestBase[_0x290f7b(0x21a)][_0x290f7b(0x1da)][_0x290f7b(0x1ff)](this);for(let _0x44d1c5=0x0;_0x44d1c5<this[_0x290f7b(0x1dd)][_0x290f7b(0x120)];++_0x44d1c5){const _0xd722b=this[_0x290f7b(0x1dd)][_0x44d1c5];if(this[_0x290f7b(0x224)])_0xd722b[_0x290f7b(0x156)](0x0,0x0);_0xd722b[_0x290f7b(0x105)]();}},Window_Quest[_0x2c0e27(0x21a)][_0x2c0e27(0x127)]=function(_0x5a241a,_0x36d7ec){const _0x5e735f=_0x2c0e27;this[_0x5e735f(0x1dd)]['push'](new _0x5a241a(_0x36d7ec,this[_0x5e735f(0x1b7)],this[_0x5e735f(0x14a)])),this[_0x5e735f(0x12b)][_0x5e735f(0x149)](this[_0x5e735f(0x1dd)][this[_0x5e735f(0x1dd)][_0x5e735f(0x120)]-0x1]);};function Scene_Quest(){const _0x1a0188=_0x2c0e27;this[_0x1a0188(0x121)](...arguments);}Scene_Quest[_0x2c0e27(0x21a)]=Object[_0x2c0e27(0x160)](Scene_MenuBase[_0x2c0e27(0x21a)]),Scene_Quest['prototype'][_0x2c0e27(0x1e7)]=Scene_Quest,Scene_Quest['prototype'][_0x2c0e27(0x121)]=function(){const _0x1b9818=_0x2c0e27;Scene_MenuBase[_0x1b9818(0x21a)][_0x1b9818(0x121)][_0x1b9818(0x1ff)](this),this[_0x1b9818(0x116)]();},Scene_Quest[_0x2c0e27(0x21a)]['setup']=function(){const _0x59b06c=_0x2c0e27;if(Rotomeca[_0x59b06c(0x21e)][_0x59b06c(0x1db)][_0x59b06c(0x1fb)])$gameParty['updateQuests']();return this;},Scene_Quest[_0x2c0e27(0x21a)][_0x2c0e27(0x160)]=function(){const _0x580a4a=_0x2c0e27;Scene_MenuBase[_0x580a4a(0x21a)][_0x580a4a(0x160)][_0x580a4a(0x1ff)](this),this[_0x580a4a(0x214)]();},Scene_Quest[_0x2c0e27(0x21a)][_0x2c0e27(0x1d8)]=function(){const _0x4af3b4=_0x2c0e27;Scene_MenuBase[_0x4af3b4(0x21a)]['start'][_0x4af3b4(0x1ff)](this);},Scene_Quest[_0x2c0e27(0x21a)][_0x2c0e27(0x1ee)]=function(){const _0x56f531=_0x2c0e27,_0x1b1c22=Graphics[_0x56f531(0x191)]/0x2,_0x3015ec=0x50,_0x4f7ffe=0x0,_0x19efe7=0x0;return new Rectangle(_0x4f7ffe,_0x19efe7,_0x1b1c22,_0x3015ec);},Scene_Quest[_0x2c0e27(0x21a)][_0x2c0e27(0x17e)]=function(){const _0x17efe6=_0x2c0e27,_0x35f0b7=Graphics['width']/0x4,_0x45fe1e=Graphics[_0x17efe6(0x167)]-0x50,_0x462fec=0x0,_0x9f2fd8=0x50;return new Rectangle(_0x462fec,_0x9f2fd8,_0x35f0b7,_0x45fe1e);},Scene_Quest[_0x2c0e27(0x21a)]['commandQuestRect']=function(){const _0x37665e=_0x2c0e27,_0x28ea31=Graphics[_0x37665e(0x191)]-Graphics[_0x37665e(0x191)]/0x4,_0x587347=Graphics[_0x37665e(0x167)]-0x50,_0x575e79=Graphics[_0x37665e(0x191)]/0x4,_0x358780=0x50;return new Rectangle(_0x575e79,_0x358780,_0x28ea31,_0x587347);},Scene_Quest['prototype'][_0x2c0e27(0x19c)]=function(){const _0x4495ce=_0x2c0e27,_0x33319b=Graphics[_0x4495ce(0x191)]-Graphics[_0x4495ce(0x191)]/0x4,_0x438441=0xc8,_0x441018=Graphics[_0x4495ce(0x191)]/0x4,_0x914420=0x50;return new Rectangle(_0x441018,_0x914420,_0x33319b,_0x438441);},Scene_Quest['prototype'][_0x2c0e27(0x187)]=function(){const _0x42cec3=_0x2c0e27,_0x4995df=Graphics[_0x42cec3(0x191)]-Graphics[_0x42cec3(0x191)]/0x4,_0x16b4c2=0xc8,_0x5a80a4=Graphics[_0x42cec3(0x191)]/0x4,_0x29faf2=0xa0;return new Rectangle(_0x5a80a4,_0x29faf2,_0x4995df,_0x16b4c2);},Scene_Quest[_0x2c0e27(0x21a)]['commandQuestStepsRect']=function(){const _0x1d16b8=_0x2c0e27,_0x4c0924=(Graphics['width']-Graphics[_0x1d16b8(0x191)]/0x4)/0x2,_0x4839be=0xf0,_0x486588=Graphics[_0x1d16b8(0x191)]/0x4,_0x51aa78=0x168;return new Rectangle(_0x486588,_0x51aa78,_0x4c0924,_0x4839be);},Scene_Quest[_0x2c0e27(0x21a)][_0x2c0e27(0x182)]=function(){const _0x537b64=_0x2c0e27,_0x1cbbff=(Graphics[_0x537b64(0x191)]-Graphics['width']/0x4)/0x2,_0x28b844=0xf0,_0x6f2335=Graphics[_0x537b64(0x191)]/0x4*2.5,_0x503dcc=0x168;return new Rectangle(_0x6f2335,_0x503dcc,_0x1cbbff,_0x28b844);},Scene_Quest['prototype'][_0x2c0e27(0x214)]=function(){const _0x2e892b=_0x2c0e27,_0x1f5eb2=this[_0x2e892b(0x1ee)](),_0x346160=new Window_MenuQuestCommand(_0x1f5eb2);_0x346160[_0x2e892b(0x13a)]('main',this[_0x2e892b(0x195)]['bind'](this)),_0x346160[_0x2e892b(0x13a)](_0x2e892b(0x14e),this[_0x2e892b(0x1f8)][_0x2e892b(0x1f1)](this)),_0x346160[_0x2e892b(0x13a)](_0x2e892b(0x162),this['commandDone'][_0x2e892b(0x1f1)](this)),_0x346160['setHandler'](_0x2e892b(0x10c),this[_0x2e892b(0x18a)]['bind'](this)),_0x346160[_0x2e892b(0x13a)](_0x2e892b(0x1f2),this['popScene']['bind'](this)),this[_0x2e892b(0x149)](_0x346160),this['_commandWindow']=_0x346160;},Scene_Quest[_0x2c0e27(0x21a)]['_command']=function(_0x94c20d,_0x3e4492){const _0x15d145=_0x2c0e27,_0x3570ba=this['commandQuestSelectRect'](),_0x5dc9ef=new Window_QuestSelect(_0x3570ba,_0x94c20d);_0x5dc9ef[_0x15d145(0x13a)](_0x15d145(0x1f2),this[_0x15d145(0x10a)][_0x15d145(0x1f1)](this)),this[_0x15d145(0x149)](_0x5dc9ef),this[_0x15d145(0x1ec)+_0x3e4492]=_0x5dc9ef,this[_0x15d145(0x20b)](_0x94c20d);},Scene_Quest[_0x2c0e27(0x21a)]['show_quest']=function(_0x3a878a){const _0x4cfdab=_0x2c0e27,_0x6a4980=this[_0x4cfdab(0x1d0)]();let _0x308685=new Window_Quest(_0x6a4980,this[_0x4cfdab(0x1ec)+this[_0x4cfdab(0x188)]],this,_0x3a878a);this[_0x4cfdab(0x149)](_0x308685),_0x308685[_0x4cfdab(0x127)](Window_QuestMain,this[_0x4cfdab(0x19c)]()),_0x308685['add'](Window_QuestDesc,this['commandQuestDescRect']()),_0x308685[_0x4cfdab(0x127)](Window_QuestSteps,this[_0x4cfdab(0x1aa)]()),_0x308685['add'](Window_QuestRewards,this[_0x4cfdab(0x182)]()),this['_current_window_quest']=_0x308685,console[_0x4cfdab(0x109)](this);},Scene_Quest[_0x2c0e27(0x21a)][_0x2c0e27(0x10a)]=function(){const _0x3bbd0b=_0x2c0e27;this[_0x3bbd0b(0x1ec)+this[_0x3bbd0b(0x188)]][_0x3bbd0b(0x128)](),this[_0x3bbd0b(0x1ec)+this['_current_command']][_0x3bbd0b(0x17f)](),this['_commandWindow'][_0x3bbd0b(0x10b)]();},Scene_Quest[_0x2c0e27(0x21a)][_0x2c0e27(0x195)]=function(){const _0xf2d57d=_0x2c0e27;this[_0xf2d57d(0x188)]=_0xf2d57d(0x1b8),this[_0xf2d57d(0x124)]($gameParty[_0xf2d57d(0x14a)][_0xf2d57d(0x21d)],this[_0xf2d57d(0x188)]);},Scene_Quest['prototype'][_0x2c0e27(0x1f8)]=function(){const _0x4c9ee3=_0x2c0e27;this['_current_command']=_0x4c9ee3(0x14e),this[_0x4c9ee3(0x124)]($gameParty[_0x4c9ee3(0x14a)][_0x4c9ee3(0x1b6)],this[_0x4c9ee3(0x188)]);},Scene_Quest['prototype']['commandDone']=function(){const _0x214946=_0x2c0e27;this[_0x214946(0x188)]=_0x214946(0x162),this[_0x214946(0x124)]($gameParty['_quests']['succed_quests'],this['_current_command']);},Scene_Quest[_0x2c0e27(0x21a)][_0x2c0e27(0x18a)]=function(){const _0xef77ef=_0x2c0e27;this[_0xef77ef(0x188)]=_0xef77ef(0x10c),this[_0xef77ef(0x124)]($gameParty[_0xef77ef(0x14a)][_0xef77ef(0x186)],this[_0xef77ef(0x188)]);},Scene_Quest[_0x2c0e27(0x21a)]['update']=function(){const _0x5ecd28=_0x2c0e27;Scene_Base[_0x5ecd28(0x21a)]['update'][_0x5ecd28(0x1ff)](this);if(this[_0x5ecd28(0x196)]!==undefined)this[_0x5ecd28(0x196)][_0x5ecd28(0x105)]();};